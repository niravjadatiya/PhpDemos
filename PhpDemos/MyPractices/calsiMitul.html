<html>

<head>
    <title>Nirav</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <br/>
        </div>
        <div class="row">
            <div class="col-md-3 col-md-offset-4 col-xs-12">
                <input type="text" id="display" class="form-control input-lg text-right" value="0">

                <div class="row">
                    <div class="col-xs-12 btn-group">
                        <button class="btn col-xs-3 btn-default" value="AC">AC</button>
                        <button class="btn col-xs-3 btn-default" value="+/-">+/-</button>
                        <button class="btn col-xs-3 btn-default" value="%">%</button>
                        <button class="btn col-xs-3 btn-default btn-warning" value="/">/</button>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-12 btn-group">
                        <button class="btn col-xs-3 btn-default" value="7">7</button>

                        <button class="btn col-xs-3 btn-default" value="8">8</button>

                        <button class="btn col-xs-3 btn-default" value="9">9</button>

                        <button class="btn col-xs-3 btn-default btn-warning" value="*">x</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 btn-group">
                        <button class="btn col-xs-3 btn-default" value="4">4</button>

                        <button class="btn col-xs-3 btn-default" value="5">5</button>

                        <button class="btn col-xs-3 btn-default" value="6">6</button>

                        <button class="btn col-xs-3 btn-default btn-warning" value="-">-</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 btn-group">
                        <button class="btn col-xs-3 btn-default" value="1">1</button>
                        <button class="btn col-xs-3 btn-default" value="2">2</button>
                        <button class="btn col-xs-3 btn-default" value="3">3</button>
                        <button class="btn col-xs-3 btn-default btn-warning" value="+">+</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 btn-group">
                        <button class="btn col-xs-3 btn-default disabled" value="0">&nbsp;</button>
                        <button class="btn col-xs-3 btn-default" value="0">0</button>
                        <button class="btn col-xs-3 btn-default" value=".">.</button>
                        <button class="btn col-xs-3 btn-default btn-warning" value="=">=</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
    $(document).ready(function() {
        var flag = false;
        var sum = 0;
        var operator = null;
        $('button').on('click', function() {
            var button = $(this);
            var display = $('#display');
            switch (button.val()) {
                case '0':
                case '1':
                case '2':
                case '3':
                case '4':
                case '5':
                case '6':
                case '7':
                case '8':
                case '9':
                    var value = display.val();
                    if (value == '0' || flag) {
                        display.val(button.val());
                        flag = false;
                    } else {
                        display.val(display.val() + button.val());
                    }
                    break;
                case 'AC':
                    display.val('0');
                    sum = 0;
                    operator = null;
                    flag = false;
                    break;
                case '.':
                    if (display.val().indexOf('.') === -1) {
                        display.val(display.val() + button.val());
                    }
                    break;
                case '+/-':
                    if (parseFloat(display.val()) > 0 || parseFloat(display.val()) < 0) {
                        display.val(parseFloat(display.val()) * -1);
                    }
                    break;
                case '+':
                case '-':
                case '*':
                case '/':
                    if (flag === false) {
                        if (operator !== null) {
                            sum = eval(sum + operator + display.val());
                            display.val(sum);
                        } else {
                            sum = parseFloat(display.val());
                        }
                    }
                    operator = button.val();
                    flag = true;
                    //                    console.log(sum);
                    break;
                case '=':
                    if (operator !== null) {
                        sum = eval(sum + operator + display.val());
                        display.val(sum);
                    }
                    break;
                default:

                    break;
            }
        });
    });
</script>

</html>
